"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/settings/route";
exports.ids = ["app/api/settings/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsettings%2Froute&page=%2Fapi%2Fsettings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsettings%2Froute.js&appDir=%2FUsers%2Fuser%2FDownloads%2Fgenesoft-main%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fuser%2FDownloads%2Fgenesoft-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsettings%2Froute&page=%2Fapi%2Fsettings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsettings%2Froute.js&appDir=%2FUsers%2Fuser%2FDownloads%2Fgenesoft-main%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fuser%2FDownloads%2Fgenesoft-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_user_Downloads_genesoft_main_app_api_settings_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/settings/route.js */ \"(rsc)/./app/api/settings/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/settings/route\",\n        pathname: \"/api/settings\",\n        filename: \"route\",\n        bundlePath: \"app/api/settings/route\"\n    },\n    resolvedPagePath: \"/Users/user/Downloads/genesoft-main/app/api/settings/route.js\",\n    nextConfigOutput,\n    userland: _Users_user_Downloads_genesoft_main_app_api_settings_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/settings/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzZXR0aW5ncyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc2V0dGluZ3MlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzZXR0aW5ncyUyRnJvdXRlLmpzJmFwcERpcj0lMkZVc2VycyUyRnVzZXIlMkZEb3dubG9hZHMlMkZnZW5lc29mdC1tYWluJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnVzZXIlMkZEb3dubG9hZHMlMkZnZW5lc29mdC1tYWluJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PXN0YW5kYWxvbmUmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDYTtBQUMxRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy1tb25nby10ZW1wbGF0ZS8/ZjAyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvdXNlci9Eb3dubG9hZHMvZ2VuZXNvZnQtbWFpbi9hcHAvYXBpL3NldHRpbmdzL3JvdXRlLmpzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcInN0YW5kYWxvbmVcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc2V0dGluZ3Mvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zZXR0aW5nc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc2V0dGluZ3Mvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvdXNlci9Eb3dubG9hZHMvZ2VuZXNvZnQtbWFpbi9hcHAvYXBpL3NldHRpbmdzL3JvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9zZXR0aW5ncy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsettings%2Froute&page=%2Fapi%2Fsettings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsettings%2Froute.js&appDir=%2FUsers%2Fuser%2FDownloads%2Fgenesoft-main%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fuser%2FDownloads%2Fgenesoft-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/settings/route.js":
/*!***********************************!*\
  !*** ./app/api/settings/route.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n// Helper for image upload processing\nasync function handleImageUpload(formData, fieldName, subDir) {\n    const imageFile = formData.get(fieldName);\n    if (imageFile && imageFile.size > 0) {\n        const bytes = await imageFile.arrayBuffer();\n        const buffer = Buffer.from(bytes);\n        // Clean filename\n        const safeName = imageFile.name.replace(/[^a-zA-Z0-9.-]/g, \"_\");\n        const fileName = `${fieldName.replace(\"Image\", \"\")}-${Date.now()}-${safeName}`;\n        const uploadDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"public\", \"uploads\", subDir);\n        if (!fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(uploadDir)) {\n            fs__WEBPACK_IMPORTED_MODULE_3___default().mkdirSync(uploadDir, {\n                recursive: true\n            });\n        }\n        const filePath = path__WEBPACK_IMPORTED_MODULE_2___default().join(uploadDir, fileName);\n        fs__WEBPACK_IMPORTED_MODULE_3___default().writeFileSync(filePath, buffer);\n        return `/uploads/${subDir}/${fileName}`;\n    }\n    return null;\n}\nasync function GET() {\n    try {\n        const collection = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.getCollection)(\"settings\");\n        let settings = await collection.findOne({\n            type: \"general\"\n        });\n        if (!settings) {\n            // Check for old settings and migrate\n            const oldSettings = await collection.findOne({\n                type: \"site\"\n            });\n            // Calculate years of experience from 2021\n            const foundingYear = 2021;\n            const currentYear = new Date().getFullYear();\n            const yearsOfExperience = currentYear - foundingYear;\n            // Create or migrate settings\n            settings = {\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(),\n                type: \"general\",\n                headerLogo: oldSettings?.logoUrl || \"\",\n                footerLogo: oldSettings?.logoUrl || \"\",\n                companyAddress: \"9701 Wilshire Boulevard, 10th Floor Beverly Hills, California 90212\",\n                companyPhone: \"\",\n                companyEmail: \"info@genesoftinfotech.com\",\n                adminPassword: \"admin123\",\n                foundingYear: 2021,\n                statsYearsExperience: yearsOfExperience + \"+\",\n                statsProjectsDelivered: \"200+\",\n                statsClientSatisfaction: \"98%\",\n                statsDataPoints: \"50M+\",\n                createdAt: new Date().toISOString(),\n                updatedAt: new Date().toISOString()\n            };\n            await collection.insertOne(settings);\n        }\n        // Don't send password in response\n        const { adminPassword, _id, ...settingsWithoutPassword } = settings;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(settingsWithoutPassword);\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request) {\n    try {\n        const contentType = request.headers.get(\"content-type\") || \"\";\n        const collection = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.getCollection)(\"settings\");\n        let updateData = {};\n        // Handle multipart/form-data (file uploads)\n        if (contentType.includes(\"multipart/form-data\")) {\n            const formData = await request.formData();\n            updateData = {\n                companyEmail: formData.get(\"companyEmail\") || \"\",\n                companyPhone: formData.get(\"companyPhone\") || \"\",\n                companyAddress: formData.get(\"companyAddress\") || \"\",\n                foundingYear: formData.get(\"foundingYear\") || 2021,\n                statsYearsExperience: formData.get(\"statsYearsExperience\") || \"\",\n                statsProjectsDelivered: formData.get(\"statsProjectsDelivered\") || \"\",\n                statsClientSatisfaction: formData.get(\"statsClientSatisfaction\") || \"\",\n                statsDataPoints: formData.get(\"statsDataPoints\") || \"\",\n                updatedAt: new Date().toISOString()\n            };\n            // Handle admin password if provided\n            const adminPassword = formData.get(\"adminPassword\");\n            if (adminPassword) {\n                updateData.adminPassword = adminPassword;\n            }\n            const headerLogoUrl = await handleImageUpload(formData, \"headerLogo\", \"logos\");\n            if (headerLogoUrl) updateData.headerLogo = headerLogoUrl;\n            const footerLogoUrl = await handleImageUpload(formData, \"footerLogo\", \"logos\");\n            if (footerLogoUrl) updateData.footerLogo = footerLogoUrl;\n            const faviconUrl = await handleImageUpload(formData, \"favicon\", \"site\");\n            if (faviconUrl) updateData.favicon = faviconUrl;\n            const mediaKitFile = formData.get(\"mediaKit\");\n            if (mediaKitFile && mediaKitFile.size > 0) {\n                const bytes = await mediaKitFile.arrayBuffer();\n                const buffer = Buffer.from(bytes);\n                const fileName = `mediakit-${Date.now()}-${mediaKitFile.name}`;\n                const uploadDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"public\", \"uploads\", \"mediakit\");\n                if (!fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(uploadDir)) fs__WEBPACK_IMPORTED_MODULE_3___default().mkdirSync(uploadDir, {\n                    recursive: true\n                });\n                fs__WEBPACK_IMPORTED_MODULE_3___default().writeFileSync(path__WEBPACK_IMPORTED_MODULE_2___default().join(uploadDir, fileName), buffer);\n                updateData.mediaKitUrl = `/uploads/mediakit/${fileName}`;\n                updateData.mediaKitName = mediaKitFile.name;\n            }\n        } else {\n            // Handle JSON (URL-based updates)\n            const body = await request.json();\n            updateData = {\n                headerLogo: body.headerLogo,\n                footerLogo: body.footerLogo,\n                companyAddress: body.companyAddress,\n                companyPhone: body.companyPhone,\n                companyEmail: body.companyEmail,\n                foundingYear: body.foundingYear,\n                statsYearsExperience: body.statsYearsExperience,\n                statsProjectsDelivered: body.statsProjectsDelivered,\n                statsClientSatisfaction: body.statsClientSatisfaction,\n                statsDataPoints: body.statsDataPoints,\n                updatedAt: new Date().toISOString()\n            };\n            // Only update password if provided\n            if (body.adminPassword) {\n                updateData.adminPassword = body.adminPassword;\n            }\n        }\n        // Remove undefined values\n        Object.keys(updateData).forEach((key)=>{\n            if (updateData[key] === undefined) delete updateData[key];\n        });\n        const result = await collection.findOneAndUpdate({\n            type: \"general\"\n        }, {\n            $set: updateData\n        }, {\n            returnDocument: \"after\",\n            upsert: true\n        });\n        const { adminPassword, _id, ...settingsWithoutPassword } = result;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(settingsWithoutPassword);\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksQ0FBQ1gsWUFBWVksT0FBTyxDQUFDQyxDQUFBQTtZQUM5QixJQUFJYixVQUFVLENBQUNhLElBQUksS0FBS0MsV0FBVyxPQUFPZCxVQUFVLENBQUNhLElBQUk7UUFDM0Q7UUFFQSxNQUFNRSxTQUFTLE1BQU1sRCxXQUFXbUQsZ0JBQWdCLENBQzlDO1lBQUVoRCxNQUFNO1FBQVUsR0FDbEI7WUFBRWlELE1BQU1qQjtRQUFXLEdBQ25CO1lBQUVrQixnQkFBZ0I7WUFBU0MsUUFBUTtRQUFLO1FBRzFDLE1BQU0sRUFBRXRDLGFBQWEsRUFBRVMsR0FBRyxFQUFFLEdBQUdDLHlCQUF5QixHQUFHd0I7UUFDM0QsT0FBT3BGLHFEQUFZQSxDQUFDNkQsSUFBSSxDQUFDRDtJQUMzQixFQUFFLE9BQU9FLE9BQU87UUFDZCxPQUFPOUQscURBQVlBLENBQUM2RCxJQUFJLENBQUM7WUFBRUMsT0FBT0EsTUFBTUMsT0FBTztRQUFDLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQ25FO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtbW9uZ28tdGVtcGxhdGUvLi9hcHAvYXBpL3NldHRpbmdzL3JvdXRlLmpzPzRmNTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgZ2V0Q29sbGVjdGlvbiB9IGZyb20gJ0AvbGliL2RiJztcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuXG4vLyBIZWxwZXIgZm9yIGltYWdlIHVwbG9hZCBwcm9jZXNzaW5nXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVJbWFnZVVwbG9hZChmb3JtRGF0YSwgZmllbGROYW1lLCBzdWJEaXIpIHtcbiAgY29uc3QgaW1hZ2VGaWxlID0gZm9ybURhdGEuZ2V0KGZpZWxkTmFtZSk7XG4gIGlmIChpbWFnZUZpbGUgJiYgaW1hZ2VGaWxlLnNpemUgPiAwKSB7XG4gICAgICBjb25zdCBieXRlcyA9IGF3YWl0IGltYWdlRmlsZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgY29uc3QgYnVmZmVyID0gQnVmZmVyLmZyb20oYnl0ZXMpO1xuICAgICAgLy8gQ2xlYW4gZmlsZW5hbWVcbiAgICAgIGNvbnN0IHNhZmVOYW1lID0gaW1hZ2VGaWxlLm5hbWUucmVwbGFjZSgvW15hLXpBLVowLTkuLV0vZywgJ18nKTtcbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7ZmllbGROYW1lLnJlcGxhY2UoJ0ltYWdlJywgJycpfS0ke0RhdGUubm93KCl9LSR7c2FmZU5hbWV9YDtcbiAgICAgIGNvbnN0IHVwbG9hZERpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ3VwbG9hZHMnLCBzdWJEaXIpO1xuICAgICAgXG4gICAgICBpZiAoIWZzLmV4aXN0c1N5bmModXBsb2FkRGlyKSkge1xuICAgICAgICBmcy5ta2RpclN5bmModXBsb2FkRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZmlsZVBhdGggPSBwYXRoLmpvaW4odXBsb2FkRGlyLCBmaWxlTmFtZSk7XG4gICAgICBmcy53cml0ZUZpbGVTeW5jKGZpbGVQYXRoLCBidWZmZXIpO1xuICAgICAgcmV0dXJuIGAvdXBsb2Fkcy8ke3N1YkRpcn0vJHtmaWxlTmFtZX1gO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICB0cnkge1xuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBnZXRDb2xsZWN0aW9uKCdzZXR0aW5ncycpO1xuICAgIGxldCBzZXR0aW5ncyA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZE9uZSh7IHR5cGU6ICdnZW5lcmFsJyB9KTtcbiAgICBcbiAgICBpZiAoIXNldHRpbmdzKSB7XG4gICAgICAvLyBDaGVjayBmb3Igb2xkIHNldHRpbmdzIGFuZCBtaWdyYXRlXG4gICAgICBjb25zdCBvbGRTZXR0aW5ncyA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZE9uZSh7IHR5cGU6ICdzaXRlJyB9KTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIHllYXJzIG9mIGV4cGVyaWVuY2UgZnJvbSAyMDIxXG4gICAgICBjb25zdCBmb3VuZGluZ1llYXIgPSAyMDIxO1xuICAgICAgY29uc3QgY3VycmVudFllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XG4gICAgICBjb25zdCB5ZWFyc09mRXhwZXJpZW5jZSA9IGN1cnJlbnRZZWFyIC0gZm91bmRpbmdZZWFyO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgb3IgbWlncmF0ZSBzZXR0aW5nc1xuICAgICAgc2V0dGluZ3MgPSB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgdHlwZTogJ2dlbmVyYWwnLFxuICAgICAgICBoZWFkZXJMb2dvOiBvbGRTZXR0aW5ncz8ubG9nb1VybCB8fCAnJyxcbiAgICAgICAgZm9vdGVyTG9nbzogb2xkU2V0dGluZ3M/LmxvZ29VcmwgfHwgJycsXG4gICAgICAgIGNvbXBhbnlBZGRyZXNzOiAnOTcwMSBXaWxzaGlyZSBCb3VsZXZhcmQsIDEwdGggRmxvb3IgQmV2ZXJseSBIaWxscywgQ2FsaWZvcm5pYSA5MDIxMicsXG4gICAgICAgIGNvbXBhbnlQaG9uZTogJycsXG4gICAgICAgIGNvbXBhbnlFbWFpbDogJ2luZm9AZ2VuZXNvZnRpbmZvdGVjaC5jb20nLFxuICAgICAgICBhZG1pblBhc3N3b3JkOiAnYWRtaW4xMjMnLCAvLyBTdGlsbCBuZWVkZWQgZm9yIGluaXRpYWwgc2V0dXAvbWlncmF0aW9uIGxvZ2ljLCBidXQgd2lsbCBhZGRyZXNzIHNlY3VyaXR5IGxhdGVyXG4gICAgICAgIGZvdW5kaW5nWWVhcjogMjAyMSxcbiAgICAgICAgc3RhdHNZZWFyc0V4cGVyaWVuY2U6IHllYXJzT2ZFeHBlcmllbmNlICsgJysnLFxuICAgICAgICBzdGF0c1Byb2plY3RzRGVsaXZlcmVkOiAnMjAwKycsXG4gICAgICAgIHN0YXRzQ2xpZW50U2F0aXNmYWN0aW9uOiAnOTglJyxcbiAgICAgICAgc3RhdHNEYXRhUG9pbnRzOiAnNTBNKycsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgYXdhaXQgY29sbGVjdGlvbi5pbnNlcnRPbmUoc2V0dGluZ3MpO1xuICAgIH1cbiAgICBcbiAgICAvLyBEb24ndCBzZW5kIHBhc3N3b3JkIGluIHJlc3BvbnNlXG4gICAgY29uc3QgeyBhZG1pblBhc3N3b3JkLCBfaWQsIC4uLnNldHRpbmdzV2l0aG91dFBhc3N3b3JkIH0gPSBzZXR0aW5ncztcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oc2V0dGluZ3NXaXRob3V0UGFzc3dvcmQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSB8fCAnJztcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbignc2V0dGluZ3MnKTtcbiAgICBcbiAgICBsZXQgdXBkYXRlRGF0YSA9IHt9O1xuICAgIFxuICAgIC8vIEhhbmRsZSBtdWx0aXBhcnQvZm9ybS1kYXRhIChmaWxlIHVwbG9hZHMpXG4gICAgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKCdtdWx0aXBhcnQvZm9ybS1kYXRhJykpIHtcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xuICAgICAgXG4gICAgICB1cGRhdGVEYXRhID0ge1xuICAgICAgICBjb21wYW55RW1haWw6IGZvcm1EYXRhLmdldCgnY29tcGFueUVtYWlsJykgfHwgJycsXG4gICAgICAgIGNvbXBhbnlQaG9uZTogZm9ybURhdGEuZ2V0KCdjb21wYW55UGhvbmUnKSB8fCAnJyxcbiAgICAgICAgY29tcGFueUFkZHJlc3M6IGZvcm1EYXRhLmdldCgnY29tcGFueUFkZHJlc3MnKSB8fCAnJyxcbiAgICAgICAgZm91bmRpbmdZZWFyOiBmb3JtRGF0YS5nZXQoJ2ZvdW5kaW5nWWVhcicpIHx8IDIwMjEsXG4gICAgICAgIHN0YXRzWWVhcnNFeHBlcmllbmNlOiBmb3JtRGF0YS5nZXQoJ3N0YXRzWWVhcnNFeHBlcmllbmNlJykgfHwgJycsXG4gICAgICAgIHN0YXRzUHJvamVjdHNEZWxpdmVyZWQ6IGZvcm1EYXRhLmdldCgnc3RhdHNQcm9qZWN0c0RlbGl2ZXJlZCcpIHx8ICcnLFxuICAgICAgICBzdGF0c0NsaWVudFNhdGlzZmFjdGlvbjogZm9ybURhdGEuZ2V0KCdzdGF0c0NsaWVudFNhdGlzZmFjdGlvbicpIHx8ICcnLFxuICAgICAgICBzdGF0c0RhdGFQb2ludHM6IGZvcm1EYXRhLmdldCgnc3RhdHNEYXRhUG9pbnRzJykgfHwgJycsXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBIYW5kbGUgYWRtaW4gcGFzc3dvcmQgaWYgcHJvdmlkZWRcbiAgICAgIGNvbnN0IGFkbWluUGFzc3dvcmQgPSBmb3JtRGF0YS5nZXQoJ2FkbWluUGFzc3dvcmQnKTtcbiAgICAgIGlmIChhZG1pblBhc3N3b3JkKSB7XG4gICAgICAgIHVwZGF0ZURhdGEuYWRtaW5QYXNzd29yZCA9IGFkbWluUGFzc3dvcmQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGhlYWRlckxvZ29VcmwgPSBhd2FpdCBoYW5kbGVJbWFnZVVwbG9hZChmb3JtRGF0YSwgJ2hlYWRlckxvZ28nLCAnbG9nb3MnKTtcbiAgICAgIGlmIChoZWFkZXJMb2dvVXJsKSB1cGRhdGVEYXRhLmhlYWRlckxvZ28gPSBoZWFkZXJMb2dvVXJsO1xuXG4gICAgICBjb25zdCBmb290ZXJMb2dvVXJsID0gYXdhaXQgaGFuZGxlSW1hZ2VVcGxvYWQoZm9ybURhdGEsICdmb290ZXJMb2dvJywgJ2xvZ29zJyk7XG4gICAgICBpZiAoZm9vdGVyTG9nb1VybCkgdXBkYXRlRGF0YS5mb290ZXJMb2dvID0gZm9vdGVyTG9nb1VybDtcblxuICAgICAgY29uc3QgZmF2aWNvblVybCA9IGF3YWl0IGhhbmRsZUltYWdlVXBsb2FkKGZvcm1EYXRhLCAnZmF2aWNvbicsICdzaXRlJyk7XG4gICAgICBpZiAoZmF2aWNvblVybCkgdXBkYXRlRGF0YS5mYXZpY29uID0gZmF2aWNvblVybDtcblxuICAgICAgY29uc3QgbWVkaWFLaXRGaWxlID0gZm9ybURhdGEuZ2V0KCdtZWRpYUtpdCcpO1xuICAgICAgaWYgKG1lZGlhS2l0RmlsZSAmJiBtZWRpYUtpdEZpbGUuc2l6ZSA+IDApIHtcbiAgICAgICAgICBjb25zdCBieXRlcyA9IGF3YWl0IG1lZGlhS2l0RmlsZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGJ5dGVzKTtcbiAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGBtZWRpYWtpdC0ke0RhdGUubm93KCl9LSR7bWVkaWFLaXRGaWxlLm5hbWV9YDtcbiAgICAgICAgICBjb25zdCB1cGxvYWREaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsICd1cGxvYWRzJywgJ21lZGlha2l0Jyk7XG4gICAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKHVwbG9hZERpcikpIGZzLm1rZGlyU3luYyh1cGxvYWREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgICAgICAgIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHVwbG9hZERpciwgZmlsZU5hbWUpLCBidWZmZXIpO1xuICAgICAgICAgIHVwZGF0ZURhdGEubWVkaWFLaXRVcmwgPSBgL3VwbG9hZHMvbWVkaWFraXQvJHtmaWxlTmFtZX1gO1xuICAgICAgICAgIHVwZGF0ZURhdGEubWVkaWFLaXROYW1lID0gbWVkaWFLaXRGaWxlLm5hbWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEhhbmRsZSBKU09OIChVUkwtYmFzZWQgdXBkYXRlcylcbiAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcbiAgICAgIHVwZGF0ZURhdGEgPSB7XG4gICAgICAgIGhlYWRlckxvZ286IGJvZHkuaGVhZGVyTG9nbyxcbiAgICAgICAgZm9vdGVyTG9nbzogYm9keS5mb290ZXJMb2dvLFxuICAgICAgICBjb21wYW55QWRkcmVzczogYm9keS5jb21wYW55QWRkcmVzcyxcbiAgICAgICAgY29tcGFueVBob25lOiBib2R5LmNvbXBhbnlQaG9uZSxcbiAgICAgICAgY29tcGFueUVtYWlsOiBib2R5LmNvbXBhbnlFbWFpbCxcbiAgICAgICAgZm91bmRpbmdZZWFyOiBib2R5LmZvdW5kaW5nWWVhcixcbiAgICAgICAgc3RhdHNZZWFyc0V4cGVyaWVuY2U6IGJvZHkuc3RhdHNZZWFyc0V4cGVyaWVuY2UsXG4gICAgICAgIHN0YXRzUHJvamVjdHNEZWxpdmVyZWQ6IGJvZHkuc3RhdHNQcm9qZWN0c0RlbGl2ZXJlZCxcbiAgICAgICAgc3RhdHNDbGllbnRTYXRpc2ZhY3Rpb246IGJvZHkuc3RhdHNDbGllbnRTYXRpc2ZhY3Rpb24sXG4gICAgICAgIHN0YXRzRGF0YVBvaW50czogYm9keS5zdGF0c0RhdGFQb2ludHMsXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBPbmx5IHVwZGF0ZSBwYXNzd29yZCBpZiBwcm92aWRlZFxuICAgICAgaWYgKGJvZHkuYWRtaW5QYXNzd29yZCkge1xuICAgICAgICB1cGRhdGVEYXRhLmFkbWluUGFzc3dvcmQgPSBib2R5LmFkbWluUGFzc3dvcmQ7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFJlbW92ZSB1bmRlZmluZWQgdmFsdWVzXG4gICAgT2JqZWN0LmtleXModXBkYXRlRGF0YSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKHVwZGF0ZURhdGFba2V5XSA9PT0gdW5kZWZpbmVkKSBkZWxldGUgdXBkYXRlRGF0YVtrZXldO1xuICAgIH0pO1xuICAgIFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZE9uZUFuZFVwZGF0ZShcbiAgICAgIHsgdHlwZTogJ2dlbmVyYWwnIH0sXG4gICAgICB7ICRzZXQ6IHVwZGF0ZURhdGEgfSxcbiAgICAgIHsgcmV0dXJuRG9jdW1lbnQ6ICdhZnRlcicsIHVwc2VydDogdHJ1ZSB9XG4gICAgKTtcbiAgICBcbiAgICBjb25zdCB7IGFkbWluUGFzc3dvcmQsIF9pZCwgLi4uc2V0dGluZ3NXaXRob3V0UGFzc3dvcmQgfSA9IHJlc3VsdDtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oc2V0dGluZ3NXaXRob3V0UGFzc3dvcmQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXRDb2xsZWN0aW9uIiwidjQiLCJ1dWlkdjQiLCJwYXRoIiwiZnMiLCJoYW5kbGVJbWFnZVVwbG9hZCIsImZvcm1EYXRhIiwiZmllbGROYW1lIiwic3ViRGlyIiwiaW1hZ2VGaWxlIiwiZ2V0Iiwic2l6ZSIsImJ5dGVzIiwiYXJyYXlCdWZmZXIiLCJidWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwic2FmZU5hbWUiLCJuYW1lIiwicmVwbGFjZSIsImZpbGVOYW1lIiwiRGF0ZSIsIm5vdyIsInVwbG9hZERpciIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImZpbGVQYXRoIiwid3JpdGVGaWxlU3luYyIsIkdFVCIsImNvbGxlY3Rpb24iLCJzZXR0aW5ncyIsImZpbmRPbmUiLCJ0eXBlIiwib2xkU2V0dGluZ3MiLCJmb3VuZGluZ1llYXIiLCJjdXJyZW50WWVhciIsImdldEZ1bGxZZWFyIiwieWVhcnNPZkV4cGVyaWVuY2UiLCJpZCIsImhlYWRlckxvZ28iLCJsb2dvVXJsIiwiZm9vdGVyTG9nbyIsImNvbXBhbnlBZGRyZXNzIiwiY29tcGFueVBob25lIiwiY29tcGFueUVtYWlsIiwiYWRtaW5QYXNzd29yZCIsInN0YXRzWWVhcnNFeHBlcmllbmNlIiwic3RhdHNQcm9qZWN0c0RlbGl2ZXJlZCIsInN0YXRzQ2xpZW50U2F0aXNmYWN0aW9uIiwic3RhdHNEYXRhUG9pbnRzIiwiY3JlYXRlZEF0IiwidG9JU09TdHJpbmciLCJ1cGRhdGVkQXQiLCJpbnNlcnRPbmUiLCJfaWQiLCJzZXR0aW5nc1dpdGhvdXRQYXNzd29yZCIsImpzb24iLCJlcnJvciIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJQVVQiLCJyZXF1ZXN0IiwiY29udGVudFR5cGUiLCJoZWFkZXJzIiwidXBkYXRlRGF0YSIsImluY2x1ZGVzIiwiaGVhZGVyTG9nb1VybCIsImZvb3RlckxvZ29VcmwiLCJmYXZpY29uVXJsIiwiZmF2aWNvbiIsIm1lZGlhS2l0RmlsZSIsIm1lZGlhS2l0VXJsIiwibWVkaWFLaXROYW1lIiwiYm9keSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwia2V5IiwidW5kZWZpbmVkIiwicmVzdWx0IiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRzZXQiLCJyZXR1cm5Eb2N1bWVudCIsInVwc2VydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/settings/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/db.js":
/*!*******************!*\
  !*** ./lib/db.js ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getCollection: () => (/* binding */ getCollection),\n/* harmony export */   getDb: () => (/* binding */ getDb)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGO_URL = process.env.MONGO_URL || \"mongodb://localhost:27017\";\nconst DB_NAME = process.env.DB_NAME || \"genesoft_db\";\nlet client;\nlet clientPromise;\nif (!global._mongoClientPromise) {\n    client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(MONGO_URL);\n    global._mongoClientPromise = client.connect();\n}\nclientPromise = global._mongoClientPromise;\nasync function getDb() {\n    const client = await clientPromise;\n    return client.db(DB_NAME);\n}\nasync function getCollection(collectionName) {\n    const db = await getDb();\n    return db.collection(collectionName);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBc0M7QUFFdEMsTUFBTUMsWUFBWUMsUUFBUUMsR0FBRyxDQUFDRixTQUFTLElBQUk7QUFDM0MsTUFBTUcsVUFBVUYsUUFBUUMsR0FBRyxDQUFDQyxPQUFPLElBQUk7QUFFdkMsSUFBSUM7QUFDSixJQUFJQztBQUVKLElBQUksQ0FBQ0MsT0FBT0MsbUJBQW1CLEVBQUU7SUFDL0JILFNBQVMsSUFBSUwsZ0RBQVdBLENBQUNDO0lBQ3pCTSxPQUFPQyxtQkFBbUIsR0FBR0gsT0FBT0ksT0FBTztBQUM3QztBQUNBSCxnQkFBZ0JDLE9BQU9DLG1CQUFtQjtBQUVuQyxlQUFlRTtJQUNwQixNQUFNTCxTQUFTLE1BQU1DO0lBQ3JCLE9BQU9ELE9BQU9NLEVBQUUsQ0FBQ1A7QUFDbkI7QUFFTyxlQUFlUSxjQUFjQyxjQUFjO0lBQ2hELE1BQU1GLEtBQUssTUFBTUQ7SUFDakIsT0FBT0MsR0FBR0csVUFBVSxDQUFDRDtBQUN2QjtBQUVBLGlFQUFlUCxhQUFhQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLW1vbmdvLXRlbXBsYXRlLy4vbGliL2RiLmpzPzNkYzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9uZ29DbGllbnQgfSBmcm9tICdtb25nb2RiJztcblxuY29uc3QgTU9OR09fVVJMID0gcHJvY2Vzcy5lbnYuTU9OR09fVVJMIHx8ICdtb25nb2RiOi8vbG9jYWxob3N0OjI3MDE3JztcbmNvbnN0IERCX05BTUUgPSBwcm9jZXNzLmVudi5EQl9OQU1FIHx8ICdnZW5lc29mdF9kYic7XG5cbmxldCBjbGllbnQ7XG5sZXQgY2xpZW50UHJvbWlzZTtcblxuaWYgKCFnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZSkge1xuICBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQoTU9OR09fVVJMKTtcbiAgZ2xvYmFsLl9tb25nb0NsaWVudFByb21pc2UgPSBjbGllbnQuY29ubmVjdCgpO1xufVxuY2xpZW50UHJvbWlzZSA9IGdsb2JhbC5fbW9uZ29DbGllbnRQcm9taXNlO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RGIoKSB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGNsaWVudFByb21pc2U7XG4gIHJldHVybiBjbGllbnQuZGIoREJfTkFNRSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb2xsZWN0aW9uKGNvbGxlY3Rpb25OYW1lKSB7XG4gIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGIoKTtcbiAgcmV0dXJuIGRiLmNvbGxlY3Rpb24oY29sbGVjdGlvbk5hbWUpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGllbnRQcm9taXNlOyJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsIk1PTkdPX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJEQl9OQU1FIiwiY2xpZW50IiwiY2xpZW50UHJvbWlzZSIsImdsb2JhbCIsIl9tb25nb0NsaWVudFByb21pc2UiLCJjb25uZWN0IiwiZ2V0RGIiLCJkYiIsImdldENvbGxlY3Rpb24iLCJjb2xsZWN0aW9uTmFtZSIsImNvbGxlY3Rpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/uuid"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fsettings%2Froute&page=%2Fapi%2Fsettings%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fsettings%2Froute.js&appDir=%2FUsers%2Fuser%2FDownloads%2Fgenesoft-main%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fuser%2FDownloads%2Fgenesoft-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();